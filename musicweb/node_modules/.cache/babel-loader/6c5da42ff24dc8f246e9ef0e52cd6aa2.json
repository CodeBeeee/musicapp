{"remainingRequest":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\src\\components\\admin\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\src\\components\\admin\\Dashboard.vue","mtime":1583528675248},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getStudentCount, getBookCount } from \"../../api/index\";\nimport bus from \"../common/bus\";\nimport * as sysTool from \"../../assets/js/systemTools\";\nexport default {\n  name: 'dashboard',\n  data: function data() {\n    return {\n      name: localStorage.getItem('ms_username'),\n      usernums: '0',\n      booknums: '0',\n      userdata: [],\n      ip: '1.1.1.1',\n      area: '北京市',\n      brower: 'chrome',\n      os: 'windows7',\n      nowtime: '2010-10-10'\n    };\n  },\n  computed: {\n    role: function role() {\n      return this.name === 'admin' ? '超级管理员' : '普通用户';\n    }\n  },\n  created: function created() {\n    this.init();\n    this.getTime();\n    var role = localStorage.getItem('ms_username');\n    this.ip = sessionStorage.getItem('ip');\n    this.area = sessionStorage.getItem('area');\n    this.brower = sysTool.GetCurrentBrowser();\n    this.os = sysTool.GetOs();\n    console.log('ip，地区，浏览器，操作系统，：', this.ip, this.area, this.brower, this.os); // if(!role){\n    //     this.$router.push('/login');\n    // }\n  },\n  deactivated: function deactivated() {\n    bus.$off('collapse', this.handleBus);\n  },\n  methods: {\n    getTime: function getTime() {\n      this.nowtime = new Date().toLocaleString();\n    },\n    init: function init() {\n      var _this = this;\n\n      getBookCount().then(function (res) {\n        _this.booknums = res;\n      });\n      getStudentCount().then(function (res) {\n        _this.usernums = res;\n      });\n    }\n  },\n  watch: {\n    $route: function $route(to, from) {\n      if (to.path == '/dashboard') {\n        this.init();\n      }\n    }\n  }\n};",{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,SAAA,eAAA,EAAA,YAAA;AACA,OAAA,GAAA;AACA,OAAA,KAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,YAAA,CAAA,OAAA,CAAA,aAAA,CADA;AAEA,MAAA,QAAA,EAAA,GAFA;AAGA,MAAA,QAAA,EAAA,GAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,EAAA,EAAA,SALA;AAMA,MAAA,IAAA,EAAA,KANA;AAOA,MAAA,MAAA,EAAA,QAPA;AAQA,MAAA,EAAA,EAAA,UARA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAgBA,EAAA,QAAA,EAAA;AAEA,IAAA,IAFA,kBAEA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA,GAAA,OAAA,GAAA,MAAA;AACA;AAJA,GAhBA;AAsBA,EAAA,OAtBA,qBAsBA;AACA,SAAA,IAAA;AACA,SAAA,OAAA;AACA,QAAA,IAAA,GAAA,YAAA,CAAA,OAAA,CAAA,aAAA,CAAA;AACA,SAAA,EAAA,GAAA,cAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,SAAA,IAAA,GAAA,cAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AACA,SAAA,MAAA,GAAA,OAAA,CAAA,iBAAA,EAAA;AACA,SAAA,EAAA,GAAA,OAAA,CAAA,KAAA,EAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,kBAAA,EAAA,KAAA,EAAA,EAAA,KAAA,IAAA,EAAA,KAAA,MAAA,EAAA,KAAA,EAAA,EARA,CASA;AACA;AACA;AAEA,GAnCA;AAqCA,EAAA,WArCA,yBAqCA;AAEA,IAAA,GAAA,CAAA,IAAA,CAAA,UAAA,EAAA,KAAA,SAAA;AACA,GAxCA;AAyCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,WAAA,OAAA,GAAA,IAAA,IAAA,GAAA,cAAA,EAAA;AACA,KAHA;AAIA,IAAA,IAJA,kBAIA;AAAA;;AACA,MAAA,YAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA;AACA,OAFA;AAGA,MAAA,eAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,GAAA;AACA,OAFA;AAGA;AAXA,GAzCA;AAsDA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA;AACA,UAAA,EAAA,CAAA,IAAA,IAAA,YAAA,EAAA;AACA,aAAA,IAAA;AACA;AACA;AALA;AAtDA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"8\">\r\n                <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:auto;\">\r\n                    <div class=\"user-info\">\r\n                        <img src=\"../../assets/img/img.jpg\" class=\"user-avator\" alt=\"\">\r\n                        <div class=\"user-info-cont\">\r\n                            <div class=\"user-info-name\">{{name}}</div>\r\n                            <div>{{role}}</div>\r\n                        </div>\r\n                    </div>\r\n                \r\n                </el-card>\r\n                <el-card shadow=\"hover\" style=\"height:400px;\">\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>公告栏</span>\r\n                        <el-button style=\"float: right; padding: 3px 0\" type=\"text\">添加</el-button>\r\n                    </div>\r\n                    <el-table :data=\"todoList\" :show-header=\"false\" height=\"304\" style=\"width: 100%;font-size:14px;\">\r\n                        <el-table-column width=\"40\">\r\n                            <template slot-scope=\"scope\">\r\n                                <el-checkbox v-model=\"scope.row.status\"></el-checkbox>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column>\r\n                            <template slot-scope=\"scope\">\r\n                                <div class=\"todo-item\" :class=\"{'todo-item-del': scope.row.status}\">{{scope.row.title}}</div>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column width=\"60\">\r\n                            <template slot-scope=\"scope\">\r\n                                <i class=\"el-icon-edit\"></i>\r\n                                <i class=\"el-icon-delete\"></i>\r\n                            </template>\r\n                        </el-table-column>\r\n                    </el-table>\r\n                </el-card>\r\n                    \r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n                <el-row :gutter=\"20\" class=\"mgb20\" >\r\n                    <el-col :span=\"12\" >\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-1\" style=\"height:160px\">\r\n                                <i class=\"el-icon-lx-people grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{usernums}}</div>\r\n                                    <div>学生总数</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-card shadow=\"hover\" :body-style=\"{padding: '0px'}\">\r\n                            <div class=\"grid-content grid-con-2\" style=\"height:160px\">\r\n                                <i class=\"el-icon-lx-notice grid-con-icon\"></i>\r\n                                <div class=\"grid-cont-right\">\r\n                                    <div class=\"grid-num\">{{booknums}}</div>\r\n                                    <div>课程总数</div>\r\n                                </div>\r\n                            </div>\r\n                        </el-card>\r\n                    </el-col>\r\n                    \r\n                </el-row>\r\n                <el-row :gutter=\"20\" class=\"mgb20\">\r\n                        <el-card class=\"box-card\">\r\n                            <div class=\"text item\">\r\n                                登录IP地址:{{ip}}\r\n                            </div>\r\n                            <div class=\"text item\">\r\n                                登录地点:{{area}}\r\n                            </div>\r\n                            <div class=\"text item\">\r\n                                登录时间:{{nowtime}}\r\n                            </div>\r\n                            <div class=\"text item\">\r\n                                浏览器:{{brower}}\r\n                            </div>\r\n                            <div class=\"text item\">\r\n                                操作系统:{{os}}\r\n                            </div>\r\n                        </el-card>\r\n                </el-row>\r\n                \r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n \r\n<script>\r\n    import {getStudentCount,getBookCount} from '../../api/index';\r\n    import bus from '../common/bus';\r\n    import * as sysTool from '../../assets/js/systemTools'\r\n    export default {\r\n        name: 'dashboard',\r\n        data() {\r\n            return {\r\n                name: localStorage.getItem('ms_username'),\r\n                usernums:'0',\r\n                booknums:'0',\r\n                userdata:[],\r\n                ip: '1.1.1.1',\r\n                area: '北京市',\r\n                brower: 'chrome',\r\n                os: 'windows7',\r\n                nowtime:'2010-10-10'\r\n            }\r\n        },\r\n         \r\n        computed: {\r\n            \r\n            role() {\r\n                return this.name === 'admin' ? '超级管理员' : '普通用户';\r\n            }\r\n        },\r\n        created(){\r\n            this.init();\r\n            this.getTime();\r\n            const role = localStorage.getItem('ms_username');\r\n            this.ip = sessionStorage.getItem('ip')\r\n            this.area = sessionStorage.getItem('area')\r\n            this.brower = sysTool.GetCurrentBrowser()\r\n            this.os = sysTool.GetOs()\r\n            console.log('ip，地区，浏览器，操作系统，：',  this.ip, this.area,this.brower, this.os)\r\n            // if(!role){\r\n            //     this.$router.push('/login');\r\n            // }\r\n             \r\n        },\r\n       \r\n        deactivated(){\r\n             \r\n            bus.$off('collapse', this.handleBus);\r\n        },\r\n        methods: {\r\n             getTime(){\r\n                 this.nowtime = new Date().toLocaleString();\r\n             },\r\n             init(){\r\n                 getBookCount().then(res=>{\r\n                    this.booknums = res;\r\n                 })\r\n                 getStudentCount().then(res=>{\r\n                    this.usernums = res;\r\n                 })\r\n             }\r\n        },\r\n        watch:{\r\n            $route(to,from){\r\n                if(to.path=='/dashboard'){\r\n                    this.init()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .el-row {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .grid-content {\r\n        display: flex;\r\n        align-items: center;\r\n        height: 100px;\r\n    }\r\n\r\n    .grid-cont-right {\r\n        flex: 1;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .grid-num {\r\n        font-size: 30px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .grid-con-icon {\r\n        font-size: 50px;\r\n        width: 100px;\r\n        height: 100px;\r\n        text-align: center;\r\n        line-height: 100px;\r\n        color: #fff;\r\n    }\r\n\r\n    .grid-con-1 .grid-con-icon {\r\n        background: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-1 .grid-num {\r\n        color: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-2 .grid-con-icon {\r\n        background: rgb(100, 213, 114);\r\n    }\r\n\r\n    .grid-con-2 .grid-num {\r\n        color: rgb(45, 140, 240);\r\n    }\r\n\r\n    .grid-con-3 .grid-con-icon {\r\n        background: rgb(242, 94, 67);\r\n    }\r\n\r\n    .grid-con-3 .grid-num {\r\n        color: rgb(242, 94, 67);\r\n    }\r\n\r\n    .user-info {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .user-avator {\r\n        width: 120px;\r\n        height: 120px;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .user-info-cont {\r\n        padding-left: 50px;\r\n        flex: 1;\r\n        font-size: 14px;\r\n        color: #999;\r\n    }\r\n\r\n    .user-info-cont div:first-child {\r\n        font-size: 30px;\r\n        color: #222;\r\n    }\r\n\r\n    .user-info-list {\r\n        font-size: 14px;\r\n        color: #999;\r\n        line-height: 25px;\r\n    }\r\n\r\n    .user-info-list span {\r\n        margin-left: 70px;\r\n    }\r\n\r\n    .mgb20 {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .todo-item {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .todo-item-del {\r\n        text-decoration: line-through;\r\n        color: #999;\r\n    }\r\n\r\n    .schart {\r\n        width: 100%;\r\n        height: 200px;\r\n    }\r\n    .text {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .item {\r\n        padding: 18px 0;\r\n    }\r\n\r\n    .box-card {\r\n        width: 98%;\r\n        margin-left: 1%;\r\n    }\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/admin"}]}