{"remainingRequest":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\src\\components\\music\\Userplayinfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\src\\components\\music\\Userplayinfo.vue","mtime":1586360913066},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WE\\Desktop\\毕业设计\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"C:\\\\Users\\\\WE\\\\Desktop\\\\\\u6BD5\\u4E1A\\u8BBE\\u8BA1\\\\musicweb\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.number.is-integer\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 工具栏配置\nvar toolbarOptions = [[\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\n[\"blockquote\", \"code-block\"], // 引用  代码块\n[{\n  header: 1\n}, {\n  header: 2\n}], // 1、2 级标题\n[{\n  list: \"ordered\"\n}, {\n  list: \"bullet\"\n}], // 有序、无序列表\n[{\n  script: \"sub\"\n}, {\n  script: \"super\"\n}], // 上标/下标\n[{\n  indent: \"-1\"\n}, {\n  indent: \"+1\"\n}], // 缩进\n// [{'direction': 'rtl'}],                         // 文本方向\n[{\n  size: [\"small\", false, \"large\", \"huge\"]\n}], // 字体大小\n[{\n  header: [1, 2, 3, 4, 5, 6, false]\n}], // 标题\n[{\n  color: []\n}, {\n  background: []\n}], // 字体颜色、字体背景颜色\n[{\n  font: []\n}], // 字体种类\n[{\n  align: []\n}], // 对齐方式\n[\"clean\"], // 清除文本格式\n[\"link\", \"image\", \"video\"] // 链接、图片、视频\n];\nimport { quillEditor } from \"vue-quill-editor\";\nimport \"quill/dist/quill.core.css\";\nimport \"quill/dist/quill.snow.css\";\nimport \"quill/dist/quill.bubble.css\";\nimport { getPartUserPlay, getSearchUserPlay, addProblem, getProblem, getZhangjie, delBook, addZhangjie, addBookImg, findUserInfo, getUserCount, getUserSearch, delUser, updateUser, getPartStudent, delStudent, getPartBook } from \"../../api/index\";\nimport { log } from 'util';\nexport default {\n  props: {\n    /*编辑器的内容*/\n    value: {\n      type: String\n    },\n\n    /*图片大小*/\n    maxSize: {\n      type: Number,\n      default: 4000 //kb\n\n    }\n  },\n  components: {\n    quillEditor: quillEditor\n  },\n  name: \"userinfo\",\n  data: function data() {\n    var _editorOption;\n\n    var checkPhone = function checkPhone(rule, value, callback) {\n      var phoneReg = /^1[3|4|5|7|8][0-9]{9}$/;\n\n      if (!value) {\n        return callback(new Error('电话号码不能为空'));\n      }\n\n      setTimeout(function () {\n        // Number.isInteger是es6验证数字是否为整数的方法,但是我实际用的时候输入的数字总是识别成字符串\n        // 所以我就在前面加了一个+实现隐式转换\n        if (!Number.isInteger(+value)) {\n          callback(new Error('请输入数字值'));\n        } else {\n          if (phoneReg.test(value)) {\n            callback();\n          } else {\n            callback(new Error('电话号码格式不正确'));\n          }\n        }\n      }, 100);\n    };\n\n    var checkEmail = function checkEmail(rule, value, callback) {\n      var mailReg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;\n\n      if (!value) {\n        return callback(new Error('邮箱不能为空'));\n      }\n\n      setTimeout(function () {\n        if (mailReg.test(value)) {\n          callback();\n        } else {\n          callback(new Error('请输入正确的邮箱格式'));\n        }\n      }, 100);\n    };\n\n    return {\n      formdata: {\n        stpage: '',\n        pagesize: ''\n      },\n      searchform: {\n        search: '',\n        searchvalue: ''\n      },\n      problemform: {\n        bookid: '',\n        problemname: '',\n        daan: '',\n        atitle: '',\n        btitle: '',\n        ctitle: '',\n        dtitle: ''\n      },\n      problemData: [],\n      wzEdit: false,\n      wzView: false,\n      drawer: false,\n      tkView: false,\n      direction: 'ttb',\n      A: 'asdas',\n      B: 'sa',\n      C: 'asd',\n      D: 'asd',\n      radio: 1,\n      form: {\n        bookid: '',\n        zjtitle: '',\n        zjcontent: '',\n        zjvideopath: ''\n      },\n      formPicsData: {\n        name: ''\n      },\n      fileList: [],\n      delform: {\n        id: ''\n      },\n      searchinput: '',\n      select: '用户账号',\n      size: 10,\n      currentSize: 0,\n      total: 0,\n      activeName: '1',\n      tableData: [],\n      imgurlData: [],\n      zhangjieData: [],\n      isimgup: false,\n      tkok: true,\n      zjcontent: 'asdasdasda',\n      imgpath: 'http://localhost/upimg/',\n      loading: false,\n      dialogFormVisible: false,\n      rowData: [],\n      formLabelWidth: '130px',\n      rules: {\n        problemname: [{\n          required: true,\n          message: '请填写问题,不能为空',\n          trigger: 'blur'\n        }],\n        atitle: [{\n          required: true,\n          message: '请填写选项答案,不能为空',\n          trigger: 'blur'\n        }],\n        btitle: [{\n          required: true,\n          message: '请填写选项答案,不能为空',\n          trigger: 'blur'\n        }],\n        ctitle: [{\n          required: true,\n          message: '请填写选项答案,不能为空',\n          trigger: 'blur'\n        }],\n        dtitle: [{\n          required: true,\n          message: '请填写选项答案,不能为空',\n          trigger: 'blur'\n        }]\n      },\n      editorOption: (_editorOption = {\n        placeholder: \"\",\n        theme: \"snow\"\n      }, _defineProperty(_editorOption, \"placeholder\", \"您想说点什么？\"), _defineProperty(_editorOption, \"modules\", {\n        toolbar: {\n          container: toolbarOptions,\n          // container: \"#toolbar\",\n          handlers: {\n            image: function image(value) {\n              if (value) {\n                // 触发input框选择图片文件\n                document.querySelector(\".avatar-uploader input\").click();\n              } else {\n                this.quill.format(\"image\", false);\n              }\n            } // link: function(value) {\n            //   if (value) {\n            //     var href = prompt('请输入url');\n            //     this.quill.format(\"link\", href);\n            //   } else {\n            //     this.quill.format(\"link\", false);\n            //   }\n            // },\n\n          }\n        }\n      }), _editorOption),\n      header: {\n        token: sessionStorage.token // 有的图片服务器要求请求头需要有token\n\n      }\n    };\n  },\n  methods: {\n    onEditorBlur: function onEditorBlur() {//失去焦点事件\n    },\n    onEditorFocus: function onEditorFocus() {//获得焦点事件\n    },\n    onEditorChange: function onEditorChange() {\n      //内容改变事件\n      this.$emit(\"input\", this.content);\n    },\n    // 富文本图片上传前\n    beforeUpload: function beforeUpload() {\n      // 显示loading动画\n      this.quillUpdateImg = true;\n    },\n    handleChange: function handleChange(response, file, fileList) {\n      this.urlData.push(response.url);\n      console.log(response.url);\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      var _this = this;\n\n      this.urlData = [];\n      fileList.forEach(function (element) {\n        _this.urlData.push(element.url);\n      });\n    },\n    uploadSuccess: function uploadSuccess(res, file) {\n      // res为图片服务器返回的数据\n      // 获取富文本组件实例\n      console.log(file);\n      var quill = this.$refs.myQuillEditor.quill; // 如果上传成功\n\n      if (res.code == 200) {\n        // 获取光标所在位置\n        var length = quill.getSelection().index; // 插入图片  res.url为服务器返回的图片地址\n\n        quill.insertEmbed(length, \"image\", res.url); // 调整光标到最后\n\n        quill.setSelection(length + 1);\n      } else {\n        this.$message.error(\"图片插入失败\");\n      } // loading动画消失\n\n\n      this.quillUpdateImg = false;\n    },\n    // 富文本图片上传失败\n    uploadError: function uploadError() {\n      // loading动画消失\n      this.quillUpdateImg = false;\n      this.$message.error(\"图片插入失败\");\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.size = val;\n      this.findMsg();\n      console.log(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentSize = val;\n      this.findMsg();\n      console.log(\"\\u5F53\\u524D\\u9875: \".concat(val));\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'video/mp4';\n      var isLt2M = file.size / 1024 / 1024 < 100;\n\n      if (!isJPG) {\n        this.$message.error('上传视频文件是 MP4 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传视频大小不能超过 50MB!');\n      }\n\n      return isJPG && isLt2M;\n    },\n    uploadFile: function uploadFile(file) {\n      this.isimgup = true;\n      this.formPicsData.append('file', file.file);\n    },\n    handleExceed: function handleExceed(files, fileList) {\n      this.$message.warning(\"\\u5F53\\u524D\\u9650\\u5236\\u9009\\u62E9 1 \\u4E2A\\u6587\\u4EF6\\uFF0C\\u672C\\u6B21\\u9009\\u62E9\\u4E86 \".concat(files.length, \" \\u4E2A\\u6587\\u4EF6\\uFF0C\\u5171\\u9009\\u62E9\\u4E86 \").concat(files.length + fileList.length, \" \\u4E2A\\u6587\\u4EF6\"));\n    },\n    findMsg: function findMsg() {\n      var _this2 = this;\n\n      this.loading = true;\n      this.formdata.pagesize = this.size;\n      this.formdata.stpage = (this.currentSize <= 1 ? 0 : this.currentSize - 1) * this.formdata.pagesize;\n      getPartUserPlay(this.formdata).then(function (res) {\n        _this2.tableData = res;\n        _this2.imgurlData = [];\n\n        for (var k = 0; k < _this2.tableData.length; k++) {\n          if (_this2.tableData[k].musicimg != null) {\n            _this2.imgurlData[k] = _this2.tableData[k].musicimg;\n          } else {\n            _this2.imgurlData[k] = null;\n          }\n        }\n\n        _this2.loading = false;\n      }).catch(function (err) {\n        _this2.$message.error(res);\n\n        _this2.loading = false;\n      });\n    },\n    userSearch: function userSearch() {\n      var _this3 = this;\n\n      this.loading = true;\n      this.searchform.searchvalue = this.searchinput;\n      getSearchUserPlay(this.searchform).then(function (res) {\n        _this3.tableData = res;\n        _this3.total = _this3.tableData.length;\n        _this3.loading = false;\n      }).catch(function (err) {\n        _this3.$message.error('服务器出错');\n\n        _this3.loading = false;\n      });\n    }\n  },\n  created: function created() {\n    this.findMsg();\n  },\n  watch: {\n    select: function select(val, oldvalue) {\n      this.searchform.search = val;\n    },\n    $route: function $route(to, from) {\n      if (to.path == '/userplayinfo') {\n        this.findMsg();\n      }\n    }\n  }\n};",{"version":3,"sources":["Userplayinfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-container>\r\n                <el-header>\r\n                    <!-- 通过 slot 来指定在 input 中前置或者后置内容。 -->\r\n                    <el-input placeholder=\"请输入内容\" v-model=\"searchinput\" class=\"input-with-select\" style=\"margin-top:30px;height:20px\" >\r\n                         <el-select v-model=\"select\" slot=\"prepend\" placeholder=\"请选择\">\r\n                            <el-option label=\"用户账号\" value=\"username\" style=\"width:100px;\"></el-option>\r\n                            <el-option label=\"音乐名称\" value=\"musicname\" style=\"width:100px;\"></el-option>\r\n                        </el-select>\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"userSearch()\" ></el-button>\r\n                    </el-input>\r\n                </el-header>\r\n                <el-main>\r\n                    <el-table\r\n                        v-loading=\"loading\"\r\n                        :data=\"tableData\"\r\n                        border\r\n                        style=\"width: 100%\">\r\n                        <el-table-column\r\n                            fixed\r\n                            prop=\"id\"\r\n                            label=\"编号id\"\r\n                            width=\"50px\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"username\"\r\n                                label=\"用户账号\"\r\n                                width=\"150px\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"musicsongid\"\r\n                                label=\"音乐编号\"\r\n                                width=\"200px\">\r\n                        </el-table-column>\r\n                         \r\n                        <el-table-column\r\n                                prop=\"musicname\"\r\n                                label=\"音乐名称\"\r\n                                width=\"250px\">\r\n                                \r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"musicauthor\"\r\n                                label=\"音乐歌手\"\r\n                                width=\"150px\">\r\n                                \r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                prop=\"playcount\"\r\n                                label=\"播放次数\"\r\n                                width=\"100px\">\r\n                        </el-table-column>\r\n                        <el-table-column\r\n                                label=\"音乐专辑图片\"\r\n                                width=\"auto\">\r\n                                <template slot-scope=\"scope\" >\r\n                                 <div v-if=\"imgurlData[scope.$index]!=null\">\r\n                                      <img :src='imgurlData[scope.$index]' style=\"width:200px;height:100px\"/>\r\n                                 </div>\r\n                                 <div v-else>无图片</div>\r\n                                </template>\r\n                        </el-table-column>\r\n                         \r\n                </el-table>\r\n                <!-- 分页代码 -->\r\n                <div class=\"block\">\r\n                    <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :current-page=\"currentSize\"\r\n                        :page-sizes=\"[10, 15, 20, 25]\"\r\n                        :page-size=\"size\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        >\r\n                    </el-pagination>\r\n                </div>\r\n            </el-main>\r\n            <el-dialog :visible.sync=\"wzEdit\" class=\"dialog\" v-loading=\"loading\" element-loading-text=\"视频正在上传,需等候1分钟左右,请稍等\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n                    <div class=\"ql-editor\">\r\n                        <div>\r\n                            <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n                                <el-form-item label=\"章节名称\">\r\n                                    <el-input v-model=\"form.zjtitle\" maxlength=\"35\" > </el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"视频上传\">\r\n                                     <el-upload\r\n                                        class=\"upload-demo\"\r\n                                        ref=\"upload\"\r\n                                        drag\r\n                                        action=\"ac\"\r\n                                        :limit=\"1\"\r\n                                        :on-exceed=\"handleExceed\"\r\n                                        :before-upload=\"beforeAvatarUpload\"\r\n                                        :http-request=\"uploadFile\"\r\n                                        :auto-upload=\"false\"\r\n                                        >\r\n                                        <i class=\"el-icon-upload\"></i>\r\n                                        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n                                        <div class=\"el-upload__tip\" slot=\"tip\">只能上传video/mp4文件，且不超过100M</div>\r\n                                    </el-upload>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </div>\r\n                        \r\n                        <div>\r\n                            <quill-editor \r\n                                class=\"editor\"\r\n                                v-model=\"form.zjcontent\"\r\n                                ref=\"myQuillEditor\" \r\n                                :options=\"editorOption\" \r\n                                @blur=\"onEditorBlur($event)\" @focus=\"onEditorFocus($event)\"\r\n                                @change=\"onEditorChange($event)\">\r\n                            </quill-editor> \r\n                        </div>\r\n                        <el-form>\r\n                            <el-form-item>\r\n                                <el-button type=\"primary\" style=\"margin-top:180px;width:200px\" @click=\"add()\">添加章节</el-button>    \r\n                            </el-form-item>\r\n                        </el-form>\r\n                    </div>\r\n                </el-dialog>\r\n                <el-dialog :visible.sync=\"wzView\" class=\"dialog\">\r\n                    <div class=\"ql-view\">\r\n                         <div>\r\n                            <el-collapse v-model=\"activeName\" accordion style=\"padding:20px;\" v-for=\"item,index in zhangjieData\" @change=\"collhandleChange\">\r\n                                <el-collapse-item :title=\"item.zjtitle\" :name='index' style=\"padding:10px;\" >\r\n                                    <div style=\"width:80%;margin-left:10%;\">\r\n                                        <div style=\"width:80%;height:250px;margin-left:10%;\" v-if=\"item.zjvideopath!=null\">\r\n                                            <video :src=\"'http://localhost/upimg/'+item.zjvideopath\" controls=\"controls\" style=\"width:100%;height:100%;\">\r\n                                            您的浏览器不支持 video 标签。\r\n                                            </video>\r\n                                        </div>\r\n                                        <div v-html=\"item.zjcontent\" style=\"margin-top:30px;\"></div>\r\n                                    </div>\r\n                                </el-collapse-item>\r\n                            </el-collapse>\r\n                         </div>\r\n                    </div>\r\n                </el-dialog>\r\n                <el-dialog :visible.sync=\"tkView\" class=\"dialog\">\r\n                    <div class=\"ql-view\" style=\"padding:10px;\">\r\n                            <div style=\"width:100%;text-align:center;\"><h1>题库</h1></div>\r\n                            <el-card style=\"width:50%;margin-left:25%;margin-top:20px;\" v-for=\"item,index in problemData\">\r\n                                <div><h2>{{index+1}}.{{item.problemname}}</h2></div><br>\r\n                                <div :style=\"item.daan=='A'?'color:#66FF00':''\">A.{{item.atitle}}</div><br>\r\n                                <div :style=\"item.daan=='B'?'color:#66FF00':''\">B.{{item.btitle}}</div><br>\r\n                                <div :style=\"item.daan=='C'?'color:#66FF00':''\">C.{{item.ctitle}}</div><br>\r\n                                <div :style=\"item.daan=='D'?'color:#66FF00':''\">D.{{item.dtitle}}</div><br>\r\n                            </el-card>\r\n                    </div>\r\n                </el-dialog>\r\n        </el-container>\r\n         \r\n        <el-drawer\r\n            title=\"答题添加\"\r\n            :visible.sync=\"drawer\"\r\n            :direction=\"direction\"\r\n            style=\"height:2000px\"\r\n            >\r\n            <div style=\"width:1000px;\">\r\n                <div style=\"margin-left:600px;\">\r\n                    <el-form :model=\"problemform\" :rules=\"rules\" ref=\"info\" label-width=\"0px\" v-loading=\"loading\" >\r\n                        <el-form-item prop=\"problemname\">\r\n                            <el-input v-model=\"problemform.problemname\" placeholder=\"问题\" maxlength=\"35\" style=\"width:400px\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"atitle\">\r\n                            <el-input v-model=\"problemform.atitle\" placeholder=\"A选项答案\" maxlength=\"40\" style=\"width:400px\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"btitle\">\r\n                            <el-input v-model=\"problemform.btitle\" placeholder=\"B选项答案\" maxlength=\"40\" style=\"width:400px\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"ctitle\">\r\n                            <el-input v-model=\"problemform.ctitle\" placeholder=\"C选项答案\" maxlength=\"40\" style=\"width:400px\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"dtitle\">\r\n                            <el-input v-model=\"problemform.dtitle\" placeholder=\"D选项答案\" maxlength=\"15\" style=\"width:400px\">\r\n                            </el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </div>\r\n                <div style=\"margin-left:600px;\">\r\n                    答案:\r\n                    <el-radio-group v-model=\"radio\" style=\"margin-top:50px;\">\r\n                        <el-radio :label=\"1\">A:{{problemform.atitle}}</el-radio><br>\r\n                        <el-radio :label=\"2\">B:{{problemform.btitle}}</el-radio><br>\r\n                        <el-radio :label=\"3\">C:{{problemform.ctitle}}</el-radio><br>\r\n                        <el-radio :label=\"4\">D:{{problemform.dtitle}}</el-radio><br>\r\n                    </el-radio-group>\r\n                </div>\r\n                <div> <el-button type=\"success\" @click=\"addproblem()\" style=\"margin-left:600px;width:400px;margin-top:20px;\">添加答题</el-button></div>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\n// 工具栏配置\r\nconst toolbarOptions = [\r\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线\r\n  [\"blockquote\", \"code-block\"], // 引用  代码块\r\n  [{ header: 1 }, { header: 2 }], // 1、2 级标题\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表\r\n  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进\r\n  // [{'direction': 'rtl'}],                         // 文本方向\r\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小\r\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题\r\n  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色\r\n  [{ font: [] }], // 字体种类\r\n  [{ align: [] }], // 对齐方式\r\n  [\"clean\"], // 清除文本格式\r\n  [\"link\", \"image\", \"video\"] // 链接、图片、视频\r\n];\r\nimport { quillEditor } from \"vue-quill-editor\";\r\nimport \"quill/dist/quill.core.css\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport \"quill/dist/quill.bubble.css\";\r\nimport {getPartUserPlay,getSearchUserPlay,addProblem,getProblem,getZhangjie,delBook,addZhangjie,addBookImg,findUserInfo,getUserCount,getUserSearch,delUser,updateUser,getPartStudent,delStudent,getPartBook} from '../../api/index';\r\nimport { log } from 'util';\r\nexport default {\r\n    props: {\r\n        /*编辑器的内容*/\r\n        value: {\r\n        type: String\r\n        },\r\n        /*图片大小*/\r\n        maxSize: {\r\n        type: Number,\r\n        default: 4000 //kb\r\n        }\r\n    },\r\n\r\n    components: {\r\n        quillEditor\r\n    },\r\n    name:\"userinfo\",\r\n    data(){\r\n        var checkPhone = (rule, value, callback) => {\r\n            const phoneReg = /^1[3|4|5|7|8][0-9]{9}$/\r\n            if (!value) {\r\n            return callback(new Error('电话号码不能为空'))\r\n            }\r\n            setTimeout(() => {\r\n            // Number.isInteger是es6验证数字是否为整数的方法,但是我实际用的时候输入的数字总是识别成字符串\r\n            // 所以我就在前面加了一个+实现隐式转换\r\n\r\n            if (!Number.isInteger(+value)) {\r\n                callback(new Error('请输入数字值'))\r\n            } else {\r\n                if (phoneReg.test(value)) {\r\n                callback()\r\n                } else {\r\n                callback(new Error('电话号码格式不正确'))\r\n                }\r\n            }\r\n            }, 100)\r\n        }\r\n        var checkEmail = (rule, value, callback) => {\r\n            const mailReg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/\r\n            if (!value) {\r\n            return callback(new Error('邮箱不能为空'))\r\n            }\r\n            setTimeout(() => {\r\n            if (mailReg.test(value)) {\r\n                callback()\r\n            } else {\r\n                callback(new Error('请输入正确的邮箱格式'))\r\n            }\r\n            }, 100)\r\n        }\r\n        return{\r\n            formdata:{\r\n               stpage:'',\r\n               pagesize:''     \r\n            },\r\n            searchform:{\r\n               search:'',\r\n               searchvalue:''     \r\n            },\r\n            problemform:{\r\n                bookid:'',\r\n                problemname:'',\r\n                daan:'',\r\n                atitle:'',\r\n                btitle:'',\r\n                ctitle:'',\r\n                dtitle:''\r\n            },\r\n            problemData:[],\r\n            wzEdit:false,\r\n            wzView:false,\r\n            drawer:false,\r\n            tkView:false,\r\n            direction: 'ttb',\r\n            A:'asdas',\r\n            B:'sa',\r\n            C:'asd',\r\n            D:'asd',\r\n            radio: 1,\r\n            form:{\r\n                bookid:'',\r\n                zjtitle:'',\r\n                zjcontent:'',\r\n                zjvideopath:''\r\n            },\r\n            formPicsData:{\r\n                name:''\r\n            },\r\n            fileList: [],\r\n            delform:{id:''},\r\n            searchinput: '',\r\n            select: '用户账号',\r\n            size:10,\r\n            currentSize:0,\r\n            total:0,\r\n            activeName: '1',\r\n            tableData:[],\r\n            imgurlData:[],\r\n            zhangjieData:[],\r\n            isimgup:false,\r\n            tkok:true,\r\n            zjcontent:'asdasdasda',\r\n            imgpath:'http://localhost/upimg/',\r\n            loading:false,\r\n            dialogFormVisible:false,\r\n            rowData:[],\r\n            formLabelWidth: '130px',\r\n            rules: {\r\n                problemname: [{ required: true, message: '请填写问题,不能为空', trigger: 'blur' }],\r\n                atitle: [{ required: true, message: '请填写选项答案,不能为空', trigger: 'blur' }],\r\n                btitle: [{ required: true, message: '请填写选项答案,不能为空', trigger: 'blur' }],\r\n                ctitle: [{ required: true, message: '请填写选项答案,不能为空', trigger: 'blur' }],\r\n                dtitle: [{ required: true, message: '请填写选项答案,不能为空', trigger: 'blur' }],\r\n            },\r\n            editorOption: {\r\n                    placeholder: \"\",\r\n                    theme: \"snow\", // or 'bubble'\r\n                    placeholder: \"您想说点什么？\",\r\n                    modules: {\r\n                    toolbar: {\r\n                        container: toolbarOptions,\r\n                        // container: \"#toolbar\",\r\n                        handlers: {\r\n                        image: function(value) {\r\n                            if (value) {\r\n                            // 触发input框选择图片文件\r\n                            document.querySelector(\".avatar-uploader input\").click();\r\n                            } else {\r\n                            this.quill.format(\"image\", false);\r\n                            }\r\n                        },\r\n                        // link: function(value) {\r\n                        //   if (value) {\r\n                        //     var href = prompt('请输入url');\r\n                        //     this.quill.format(\"link\", href);\r\n                        //   } else {\r\n                        //     this.quill.format(\"link\", false);\r\n                        //   }\r\n                        // },\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            header: {\r\n                token: sessionStorage.token\r\n            } // 有的图片服务器要求请求头需要有token\r\n\r\n        }   \r\n    },\r\n    methods:{\r\n        onEditorBlur() {\r\n        //失去焦点事件\r\n        },\r\n        onEditorFocus() {\r\n        //获得焦点事件\r\n        },\r\n        onEditorChange() {\r\n        //内容改变事件\r\n        this.$emit(\"input\", this.content);\r\n        },\r\n\r\n        // 富文本图片上传前\r\n        beforeUpload() {\r\n        // 显示loading动画\r\n        this.quillUpdateImg = true;\r\n        },\r\n        handleChange(response, file, fileList){\r\n            this.urlData.push(response.url);\r\n            console.log(response.url);\r\n        },\r\n        handleRemove(file,fileList){\r\n            this.urlData = [];\r\n            fileList.forEach(element => {\r\n            this.urlData.push(element.url);\r\n            });\r\n        },\r\n        uploadSuccess(res, file) {\r\n        // res为图片服务器返回的数据\r\n        // 获取富文本组件实例\r\n        console.log(file);\r\n        let quill = this.$refs.myQuillEditor.quill;\r\n        // 如果上传成功\r\n        if (res.code == 200) {\r\n            // 获取光标所在位置\r\n            let length = quill.getSelection().index;\r\n            // 插入图片  res.url为服务器返回的图片地址\r\n            quill.insertEmbed(length, \"image\", res.url);\r\n            // 调整光标到最后\r\n            quill.setSelection(length + 1);\r\n        } else {\r\n            this.$message.error(\"图片插入失败\");\r\n        }\r\n        // loading动画消失\r\n        this.quillUpdateImg = false;\r\n        },\r\n        // 富文本图片上传失败\r\n        uploadError() {\r\n        // loading动画消失\r\n        this.quillUpdateImg = false;\r\n        this.$message.error(\"图片插入失败\");\r\n        },\r\n        handleSizeChange(val) {\r\n            this.size = val;\r\n            this.findMsg();\r\n            console.log(`每页 ${val} 条`);\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.currentSize = val;\r\n            this.findMsg();\r\n            console.log(`当前页: ${val}`);\r\n        },\r\n        beforeAvatarUpload(file) {\r\n            const isJPG = file.type === 'video/mp4';\r\n            const isLt2M = file.size / 1024 / 1024 < 100;\r\n\r\n            if (!isJPG) {\r\n            this.$message.error('上传视频文件是 MP4 格式!');\r\n            }\r\n            if (!isLt2M) {\r\n            this.$message.error('上传视频大小不能超过 50MB!');\r\n            }\r\n            return isJPG && isLt2M;\r\n        },\r\n        uploadFile(file){\r\n          this.isimgup = true;\r\n          this.formPicsData.append('file', file.file);\r\n        },\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(`当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n        },\r\n         \r\n        findMsg(){\r\n            this.loading=true;\r\n            this.formdata.pagesize = this.size;\r\n            this.formdata.stpage = (this.currentSize<=1?0:this.currentSize-1)*this.formdata.pagesize;\r\n            getPartUserPlay(this.formdata).then(res=>{\r\n                this.tableData = res;\r\n                this.imgurlData = [];\r\n                for(var k=0;k<this.tableData.length;k++){\r\n                    if(this.tableData[k].musicimg!=null){\r\n                        this.imgurlData[k] = this.tableData[k].musicimg;\r\n                    }else{\r\n                        this.imgurlData[k] = null;\r\n                    }\r\n                    \r\n                }\r\n                this.loading=false;\r\n            }).catch(err => {\r\n                this.$message.error(res);\r\n                this.loading=false;\r\n            })\r\n        },\r\n            userSearch(){\r\n            this.loading=true;\r\n            this.searchform.searchvalue = this.searchinput;\r\n            getSearchUserPlay(this.searchform).then(res=>{\r\n                this.tableData = res;\r\n                this.total = this.tableData.length;\r\n                this.loading=false;\r\n            }).catch(err => {\r\n                this.$message.error('服务器出错');\r\n                this.loading=false;\r\n            })\r\n        },\r\n    },\r\n           \r\n    created(){\r\n        this.findMsg();\r\n    },\r\n    watch:{\r\n        select(val,oldvalue){\r\n            this.searchform.search = val;\r\n        },\r\n        $route(to,from){\r\n            if(to.path=='/userplayinfo'){\r\n                 this.findMsg();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.el-pagination__jump{\r\n    margin-left:34px;\r\n}\r\n.input-with-select{\r\n    width: 500px;\r\n    height: 33px;\r\n}\r\n.el-select .el-input {\r\n    width: 100px;\r\n    height: 30px;\r\n}\r\n.input-with-select .el-input-group__prepend {\r\n    background-color: #fff;\r\n}\r\n.input-with-select .el-input__inner{\r\n    width:400px;\r\n}\r\n.dialog{\r\n  width:2200px;\r\n  margin-left: -250px;\r\n  margin-top: -100px;\r\n}\r\n.editor {\r\n  line-height: normal !important;\r\n  height: 570px;   \r\n}\r\n.ql-editor{\r\n   height: 620px;   \r\n}\r\n.ql-container .ql-snow{\r\n    height: 620px;\r\n}\r\n.ql-view{\r\n   height: 650px;   \r\n   overflow: auto;\r\n} \r\n.ql-container.ql-snow{\r\n  height: 650px;\r\n}\r\n.el-select .el-input__inner {\r\n  width: 220px;\r\n}\r\n.ql-snow .ql-tooltip[data-mode=link]::before {\r\n  content: \"请输入链接地址:\";\r\n}\r\n \r\n.ql-snow .ql-tooltip.ql-editing a.ql-action::after {\r\n    border-right: 0px;\r\n    content: '保存';\r\n    padding-right: 0px;\r\n}\r\n\r\n.ql-snow .ql-tooltip[data-mode=video]::before {\r\n    content: \"请输入视频地址:\";\r\n}\r\n\r\n.ql-snow .ql-picker.ql-size .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item::before {\r\n  content: '14px';\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {\r\n  content: '10px';\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {\r\n  content: '18px';\r\n}\r\n.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,\r\n.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {\r\n  content: '32px';\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item::before {\r\n  content: '文本';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\r\n  content: '标题1';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\r\n  content: '标题2';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\r\n  content: '标题3';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\r\n  content: '标题4';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\r\n  content: '标题5';\r\n}\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before,\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\r\n  content: '标题6';\r\n}\r\n\r\n.ql-snow .ql-picker.ql-font .ql-picker-label::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item::before {\r\n  content: '标准字体';\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {\r\n  content: '衬线字体';\r\n}\r\n.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,\r\n.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {\r\n  content: '等宽字体';\r\n}\r\n</style>"],"sourceRoot":"src/components/music"}]}